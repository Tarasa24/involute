(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dashboard/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0603":function(e,t,n){},"0d00":function(e,t,n){},1:function(e,t){},"11be":function(e,t,n){},1607:function(e,t,n){"use strict";var a=n("71f8"),r=n.n(a);r.a},"16f4":function(e,t,n){"use strict";var a=n("cfa0"),r=n.n(a);r.a},"244a":function(e,t,n){},"25a3":function(e,t,n){"use strict";var a=n("b0e6"),r=n.n(a);r.a},"25bb":function(e,t,n){},3285:function(e,t,n){"use strict";var a=n("a0ce"),r=n.n(a);r.a},3638:function(e,t,n){},4083:function(e,t,n){"use strict";var a=n("c00d"),r=n.n(a);r.a},"49fb":function(e,t,n){n("99af"),n("4160"),n("d3b7"),n("159b"),n("96cf");var a=n("c973"),r="/dashboard/api",s="/api/auth";function i(e){return"/"==e.charAt(0)&&(e=e.substring(1)),e}function o(e){return c.apply(this,arguments)}function c(){return c=a(regeneratorRuntime.mark((function e(t){var n,a,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{code:!1,params:[]},t=i(t),a="".concat(r,"/").concat(t),n.params.forEach((function(e){a+="/".concat(e)})),e.next=6,fetch(a);case 6:if(s=e.sent,400!==s.status||!n.code){e.next=11;break}return e.abrupt("return",s.status);case 11:return e.abrupt("return",s.json());case 12:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(e,t){return u.apply(this,arguments)}function u(){return u=a(regeneratorRuntime.mark((function e(t,n){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i(t),a="".concat(r,"/").concat(t),e.next=4,fetch(a,{method:"POST",body:n,headers:{"Content-Type":"application/json"}});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return p=a(regeneratorRuntime.mark((function e(t,n){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i(t),a="".concat(r,"/").concat(t),e.next=4,fetch(a,{method:"DELETE",body:n||"",headers:{"Content-Type":"application/json"}});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return m=a(regeneratorRuntime.mark((function e(t,n){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i(t),a="".concat(r,"/").concat(t),e.next=4,fetch(a,{method:"PUT",body:n,headers:{"Content-Type":"application/json"}});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(){return h.apply(this,arguments)}function h(){return h=a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(s+"/tokenPayload",{method:"GET",credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function g(e,t){return b.apply(this,arguments)}function b(){return b=a(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(s+t,{method:"POST",body:n,headers:{"Content-Type":"application/json"},credentials:"include"});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function k(e){return y.apply(this,arguments)}function y(){return y=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(s+t,{method:"DELETE",credentials:"include"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}e.exports={getData:o,postData:l,deleteData:d,putData:f,getTokenPayload:v,postAuthData:g,deleteAuthData:k}},"4ddc":function(e,t,n){"use strict";var a=n("86f1"),r=n.n(a);r.a},"4fab":function(e,t,n){"use strict";var a=n("d557"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("8c4f"),s=n("26b9"),i=n.n(s),o=n("ee98"),c=n.n(o),l=n("caf9"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("vue-progress-bar"),n("notifications",{attrs:{position:"top center"}}),n("TopNav",{staticClass:"topnav"}),n("SideBar",{staticClass:"sidebar"}),n("router-view",{staticClass:"main"})],1)},d=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("span",[e._v("DASHBOARD")]),n("a",{attrs:{href:e.url}},[n("button",{staticClass:"fas fa-sign-out-alt",attrs:{"aria-label":"Odejít"}})])])},f=[],m={data:function(){return{url:"/"}}},v=m,h=(n("7bd7"),n("2877")),g=Object(h["a"])(v,p,f,!1,null,"5d944b1c",null),b=g.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[n("router-link",{attrs:{to:"/"}},[n("h1",{style:"background-image: url("+e.image+")"},[e._v("iNvolute")])]),n("nav",[n("router-link",{attrs:{to:"/traffic"}},[n("i",{staticClass:"fas fa-chart-line"}),e._v("Traffic ")]),n("router-link",{attrs:{to:"/novinky"}},[n("i",{staticClass:"fas fa-newspaper"}),e._v("Novinky ")]),n("router-link",{attrs:{to:"/media"}},[n("i",{staticClass:"fas fa-photo-video"}),e._v("Media ")]),n("router-link",{attrs:{to:"/oceneni"}},[n("i",{staticClass:"fas fa-trophy"}),e._v("Ocenění ")]),n("router-link",{attrs:{to:"/uzivatele"}},[n("i",{staticClass:"fas fa-user-cog"}),e._v("Uživatelé ")]),n("router-link",{attrs:{to:"/databaze"}},[n("i",{staticClass:"fas fa-database"}),e._v("Databáze ")]),n("router-link",{staticClass:"tab",attrs:{to:"/hraci"}},[n("i",{staticClass:"fas fa-user-friends"}),e._v("Hráči ")]),n("router-link",{staticClass:"tab",attrs:{to:"/hry"}},[n("i",{staticClass:"fas fa-gamepad"}),e._v("Hry ")]),n("router-link",{staticClass:"tab",attrs:{to:"/partneri"}},[n("i",{staticClass:"fas fa-handshake"}),e._v("Partneři ")]),n("router-link",{staticClass:"tab",attrs:{to:"/sponzori"}},[n("i",{staticClass:"fas fa-money-bill-wave"}),e._v("Sponzoři ")]),n("router-link",{staticClass:"tab",attrs:{to:"/staff"}},[n("i",{staticClass:"fas fa-user-tie"}),e._v("Staff ")]),n("router-link",{staticClass:"tab",attrs:{to:"/odkazy"}},[n("i",{staticClass:"fas fa-external-link-alt"}),e._v("Odkazy ")])],1)],1)},y=[],w={data:function(){return{image:"/dashboard/img/icon.webp"}}},_=w,x=(n("ef5d"),Object(h["a"])(_,k,y,!1,null,"4b1630d8",null)),O=x.exports,j={name:"App",components:{SideBar:O,TopNav:b}},$=j,P=(n("cf25"),Object(h["a"])($,u,d,!1,null,null,null)),C=P.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("div",[n("img",{attrs:{src:e.image,alt:"logo"}}),n("h1",[e._v("Vítejte, "+e._s(e.name))])])])},N=[],D=(n("b0c0"),n("96cf"),n("1da1")),S=n("49fb"),z={data:function(){return{name:null,image:"/dashboard/img/logo.webp"}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(S["getTokenPayload"])();case 2:n=t.sent,a=n.name,e.name=a;case 5:case"end":return t.stop()}}),t)})))()}},E=z,F=(n("ebcb"),Object(h["a"])(E,R,N,!1,null,"0bdc7fe9",null)),T=F.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Traffic")]),n("div",{staticClass:"wrapper"},[n("Box",{attrs:{title:"Active connections",icon:"fas fa-users",number:e.connections.active||0}}),n("Box",{attrs:{title:"Reading connections",icon:"fas fa-envelope-open-text",number:e.connections.reading||0}}),n("Box",{attrs:{title:"Writing connections",icon:"fas fa-pen-alt",number:e.connections.writing||0}}),n("Box",{attrs:{title:"Idling connections",icon:"fas fa-clock",number:e.connections.idling||0}})],1),n("iframe",{attrs:{src:e.iframeSrc},on:{load:e.handleLoad}})])},q=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("span",{class:e.icon}),e._v(e._s(e.title)+" "),n("h1",[e._v(e._s(Intl.NumberFormat().format(e.number)))])])},V=[],A={props:["title","icon","number"]},J=A,G=(n("d284"),Object(h["a"])(J,L,V,!1,null,"ec6d00d4",null)),B=G.exports,I=n("8055"),M=n.n(I),Z={components:{Box:B},data:function(){return{iframeSrc:"https://rt.goaccess.io/?20210228190606",socket:void 0,connections:{}}},created:function(){var e=this,t=window.location.hostname,n="/dashboard/api/socket.io";this.socket=M()(t,{transports:["websocket"],path:n}),this.socket.on("status",(function(t){e.connections=JSON.parse(t)}))},methods:{handleLoad:function(e){var t=e.target;t.style.height=t.contentWindow.document.body.scrollHeight+"px",t.contentWindow.GoAccess.Nav.setTheme("bright")}}},H=Z,K=(n("9ed4"),Object(h["a"])(H,U,q,!1,null,"cfd29628",null)),W=K.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Novinky")]),n("div",[n("div",{staticClass:"header"},[n("h2",[e._v("Přidat nový článek")]),n("router-link",{staticClass:"fas fa-plus-circle",attrs:{to:"/novinka/pridat"}})],1),e._m(0),n("div",{staticClass:"vyhledat"},[n("h2",[e._v("Vyhledat")]),n("form",{staticClass:"wrapper",on:{submit:e.handleSubmit}},[n("select",{domProps:{value:e.queryPair[0]},on:{change:e.handleChange}},[n("option",{attrs:{value:"Koncepty"}},[e._v("Koncepty")]),n("option",{attrs:{value:"Připnuté"}},[e._v("Připnuté")]),n("option",{attrs:{value:"Titulek"}},[e._v("Titulek")]),n("option",{attrs:{value:"ID"}},[e._v("ID")])]),n("input",{attrs:{type:"text",placeholder:"Řetězec, nebo /regex/",disabled:["Koncepty","Připnuté"].includes(e.queryPair[0])},domProps:{value:e.queryPair[1]}}),n("button",{attrs:{type:"submit"}},[e._v("Hledat")])])])]),e._l(e.novinky,(function(t,a){return n("div",{key:t.id,staticClass:"row"},[n("div",[n("a",{staticClass:"title",attrs:{href:"/novinka/"+t._id,disabled:t.draft}},[e._v(e._s(t.title)+" ")]),t.draft?n("span",{staticClass:"fas fa-pencil-ruler",attrs:{title:"Koncept"}}):n("span",{staticClass:"fas fa-thumbtack",attrs:{disabled:!t.pinned},on:{click:function(t){return e.handlePinClick(a)}}})]),n("i",[e._v(e._s(t.game))]),n("span",[e._v(e._s(new Date(1e3*t.date).toLocaleDateString("cs",{day:"2-digit",month:"2-digit",year:"numeric"})))]),n("router-link",{staticClass:"fas fa-edit",attrs:{to:"/novinka/"+t._id}})],1)}))],2)},Y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nebo"},[n("hr"),n("span",[e._v("nebo")])])}],X=(n("99af"),n("caad"),n("4fad"),n("ade3")),ee={data:function(){return{novinky:[]}},created:function(){this.load()},computed:{queryPair:function(){var e=0!=Object.entries(this.$route.query).length?Object.entries(this.$route.query)[0]:["Koncepty","true"];return["Koncepty","Připnuté"].includes(e[0])?e[1]="true":e[1]=e[1]||"",[e[0],e[1]]}},methods:{load:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.start(),n=e.queryPair,t.next=4,Object(S["getData"])("/novinkyAll?".concat(n[0],"=").concat(n[1]));case 4:e.novinky=t.sent,e.$Progress.finish();case 6:case"end":return t.stop()}}),t)})))()},handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.preventDefault(),a=e.target.elements,r=a[0].value,s=a[1].value,t.$router.push({path:"/novinky",query:Object(X["a"])({},r,s)}),t.load();case 6:case"end":return n.stop()}}),n)})))()},handlePinClick:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.novinky[e],a.pinned){n.next=12;break}if(!t.novinky[0].pinned||!t.novinky[1].pinned){n.next=6;break}alert("Maximálně 2 články mohou být připnuty naráz!\nProsim odeberte špendlík z jednoho z připnutých příspěvků."),n.next=10;break;case 6:return n.next=8,Object(S["putData"])("/novinky/pinned/"+a._id);case 8:r=n.sent,202==r.status?(a.pinned=!0,t.sort()):alert("Něco se pokazilo");case 10:n.next=17;break;case 12:if(!confirm("Opravdu chcete odepnout?")){n.next=17;break}return n.next=15,Object(S["deleteData"])("/novinky/pinned/"+a._id);case 15:s=n.sent,202==s.status?(a.pinned=!1,t.sort()):alert("Něco se pokazilo");case 17:case"end":return n.stop()}}),n)})))()},handleChange:function(e){["Koncepty","Připnuté"].includes(e.target.value)?(e.target.parentNode.children[1].value=!0,e.target.parentNode.children[1].disabled=!0):(e.target.parentNode.children[1].value="",e.target.parentNode.children[1].disabled=!1)},sort:function(){this.novinky.sort((function(e,t){return e.pinned&&!t.pinned?-1:!e.pinned&&t.pinned?1:e.date>t.date?-1:e.date<t.date?1:e.created>t.created?-1:e.created<t.created?1:void 0}))}}},te=ee,ne=(n("8d95"),Object(h["a"])(te,Q,Y,!1,null,"7417c528",null)),ae=ne.exports,re=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("main",[a("div",{staticClass:"header",style:"background: linear-gradient(0deg, rgba(0,0,0,0.7), rgba(0,0,0,0.8)), url(./cover/"+t.$route.params.id+")"},[a("i",{staticClass:"far fa-edit",attrs:{title:"Přidat hlavní náhledový obrázek"},on:{click:t.handleClick}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.novinka.title,expression:"novinka.title"}],staticClass:"title",attrs:{placeholder:"Nadpis",type:"text"},domProps:{value:t.novinka.title},on:{input:function(e){e.target.composing||t.$set(t.novinka,"title",e.target.value)}}}),a("div",{staticClass:"tags"},[t._l(t.novinka.tags,(function(e,n){return a("a",{key:e,on:{click:function(e){return t.handleTagDelete(n)}}},[t._v(" "+t._s(e)+" "),a("i",{staticClass:"fas fa-times",attrs:{"aria-label":"Odstranit tag"}})])})),a("select",{on:{change:t.handleSelectTag}},[a("option",{attrs:{value:""}},[t._v("Vyberte jeden z existujících tagů")]),t._l(t.novinka.tags?t.tags.filter((function(t){return-1===e.novinka.tags.indexOf(t)})):t.tags,(function(e){return a("option",{key:e},[t._v(" "+t._s(e)+" ")])}))],2),a("button",{on:{click:t.handleNewTag}},[t._v(" Nebo přidejte nový "),a("i",{staticClass:"fas fa-plus"})])],2),a("span",[a("div",{staticClass:"author"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.novinka.author,expression:"novinka.author"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));t.$set(t.novinka,"author",e.target.multiple?n:n[0])}}},[a("option",{attrs:{value:""}},[t._v("Bez autora")]),t.self?a("option",{domProps:{value:t.self._id}},[t._v(t._s(t.self.name))]):t._e(),t._l(t.uzivatele,(function(e){return a("option",{key:e._id,domProps:{value:e._id}},[t._v(" "+t._s(e.name)+" ")])}))],2)]),a("datepicker",{attrs:{language:t.cs},model:{value:t.novinka.date,callback:function(e){t.$set(t.novinka,"date",e)},expression:"novinka.date"}})],1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.novinka.sub,expression:"novinka.sub"}],attrs:{placeholder:"Krátký popisek"},domProps:{value:t.novinka.sub},on:{input:function(e){e.target.composing||t.$set(t.novinka,"sub",e.target.value)}}})]),a("vue-editor",{staticClass:"editor",attrs:{editorToolbar:t.quill.customToolbar,customModules:t.quill.customModulesForEditor,editorOptions:t.quill.editorSettings},model:{value:t.novinka.text,callback:function(e){t.$set(t.novinka,"text",e)},expression:"novinka.text"}}),t.newArticle?a("span",{staticClass:"new"},[a("button",{on:{click:function(e){return t.handleSubmit(!1)}}},[t._v("Publikovat")]),a("button",{on:{click:function(e){return t.handleSubmit(!0)}}},[t._v("Uložit koncept")])]):a("span",{staticClass:"edit"},[a("button",{on:{click:function(e){return t.handleSubmit(t.novinka.draft)}}},[t._v("Uložit změny")]),t.novinka.draft?a("button",{on:{click:function(e){return t.handleSubmit(!1)}}},[t._v(" Publikovat ")]):t._e(),a("button",{on:{click:t.handleDelete}},[t._v("Odstranit")])]),a("FileUpload",{ref:"FileUpload",model:{value:t.novinka.bg,callback:function(e){t.$set(t.novinka,"bg",e)},expression:"novinka.bg"}})],1)},se=[],ie=(n("c975"),n("d81d"),n("a434"),n("2532"),n("5873")),oe=n("f318"),ce=n.n(oe),le=n("2c5e"),ue=n.n(le),de=n("fa33"),pe=n("2430"),fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"none"}},[n("input",{ref:"uploadTrigger",attrs:{type:"file",accept:"image/*"},on:{change:e.handleUpload}})])},me=[],ve=(n("d3b7"),n("7c8d")),he=n.n(ve),ge={prop:["value"],methods:{open:function(){this.$refs.uploadTrigger.click()},toBase64:function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},handleUpload:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=function(e){return new Promise((function(t,n){new he.a(e,{convertSize:25e5,maxWidth:1920,maxHeight:1080,success:function(e){t(e)},error:function(e){n(e)}})}))},a=e.target.files[0],n.next=4,r(a);case 4:return s=n.sent,n.next=7,t.toBase64(s);case 7:i=n.sent,t.$emit("input",i);case 9:case"end":return n.stop()}}),n)})))()}}},be=ge,ke=Object(h["a"])(be,fe,me,!1,null,null,null),ye=ke.exports,we={components:{VueEditor:ie["a"],Datepicker:de["a"],FileUpload:ye},props:{newArticle:{type:Boolean}},watch:{novinka:{handler:function(){this.changed=!0},deep:!0}},data:function(){return{quill:{customToolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["link","image","video"]],customModulesForEditor:[{alias:"imageResize",module:ce.a},{alias:"videoResize",module:ue.a}],editorSettings:{placeholder:"Text",modules:{imageResize:{modules:["Resize","DisplaySize"]},videoResize:{modules:["Resize","DisplaySize"]}}}},cs:pe["cs"],novinka:{},changed:!1,uzivatele:[],self:null,tags:[]}},mounted:function(){var e=this;window.addEventListener("beforeunload",(function(t){return e.handleUnload(t)}))},unmounted:function(){var e=this;window.removeEventListener("beforeunload",(function(t){return e.handleUnload(t)}))},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(S["getData"])("/uzivatele");case 2:return e.uzivatele=t.sent,t.next=5,Object(S["getData"])("/novinky/tags");case 5:if(e.tags=t.sent,e.newArticle){t.next=17;break}return t.next=9,Object(S["getData"])("/novinka/"+e.$route.params.id);case 9:e.novinka=t.sent,e.novinka.pinned=Boolean(e.novinka.pinned),e.novinka.draft=Boolean(e.novinka.draft),e.novinka.date=new Date(1e3*e.novinka.date),e.novinka.author||(e.novinka.author=""),e.$nextTick((function(){e.uzivatele.map((function(e){return e._id})).includes(e.novinka.author)||(e.novinka.author=""),e.changed=!1})),t.next=34;break;case 17:return e.novinka.date=new Date,t.next=20,Object(S["getTokenPayload"])();case 20:e.self=t.sent,n=0;case 22:if(!(n<e.uzivatele.length)){t.next=29;break}if(e.uzivatele[n].name!=e.self.name){t.next=26;break}return e.uzivatele.splice(n,1),t.abrupt("break",29);case 26:n++,t.next=22;break;case 29:return t.next=31,Object(S["getData"])("/uzivatel/"+e.self.name);case 31:a=t.sent,e.self._id=a._id,e.novinka.author=a._id;case 34:case"end":return t.stop()}}),t)})))()},beforeRouteLeave:function(e,t,n){this.changed?confirm("Opravdu chcete odejít? Máte neuložené změny!")?(n(),this.changed=!1):n(!1):n()},methods:{handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.novinka.date,a.setHours(12),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a=(a.getTime()-60*a.getTimezoneOffset()*1e3)/1e3,r=Object.assign({},t.novinka),r.date=a,r.draft=e,e){n.next=12;break}if(confirm("Opravdu chcete publikovat tento článek?")){n.next=12;break}return n.abrupt("return");case 12:if(t.$Progress.start(),t.newArticle){n.next=19;break}return n.next=16,Object(S["postData"])("/novinka/"+t.$route.params.id,JSON.stringify(r));case 16:s=n.sent,n.next=23;break;case 19:return r.created=Math.ceil((new Date).getTime()/1e3),n.next=22,Object(S["putData"])("/novinka",JSON.stringify(r));case 22:s=n.sent;case 23:202==s.status?(t.$Progress.finish(),t.changed=!1,t.$router.push("/novinky")):(t.$Progress.fail(),alert("Vyskytla se chyba"));case 24:case"end":return n.stop()}}),n)})))()},handleDelete:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Opravdu chcete tento článek smazat z databáze?")){t.next=6;break}return e.$Progress.start(),t.next=4,Object(S["deleteData"])("/novinka/"+e.$route.params.id);case 4:n=t.sent,202==n.status?(e.$Progress.finish(),e.$router.push("/novinky")):(e.$Progress.fail(),alert("Vyskytla se chyba"));case 6:case"end":return t.stop()}}),t)})))()},handleClick:function(){this.$refs.FileUpload.open()},handleUnload:function(e){this.changed&&(e.preventDefault(),e.returnValue="")},handleTagDelete:function(e){this.novinka.tags.splice(e,1)},handleSelectTag:function(e){var t=e.target.value;this.tags.splice(e.target.selectedIndex-1,1),e.target.value="",this.novinka.tags?this.novinka.tags.push(t):this.$set(this.novinka,"tags",[t])},handleNewTag:function(){var e=prompt("Zadejte jméno nového tagu:");if(e)if(this.novinka.tags){if(-1!==this.novinka.tags.indexOf(e))return;this.novinka.tags.push(e)}else this.$set(this.novinka,"tags",[e])}}},_e=we,xe=(n("4083"),Object(h["a"])(_e,re,se,!1,null,"0e9c8bf1",null)),Oe=xe.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Media")]),n("div",{staticClass:"wrapper"},[void 0==e.newFile.type?n("div",{staticClass:"add"},[n("h3",[e._v("Přidat")]),n("button",{staticClass:"fab fa-youtube",on:{click:function(t){return e.setType("video")}}}),n("button",{staticClass:"far fa-images",on:{click:function(t){return e.setType("images")}}})]):n("div",{staticClass:"add"},[n("button",{staticClass:"fas fa-undo",on:{click:function(t){return e.setType(void 0)}}})]),n("hr"),void 0!=e.newFile.type?n("div",{staticClass:"file"},[n("div",["video"==e.newFile.type?n("img",{staticClass:"img",attrs:{src:"https://img.youtube.com/vi/"+e.newFile.code+"/0.jpg",alt:"thumb"}}):"images"==e.newFile.type?n("Gallery",{model:{value:e.newFile.gallery,callback:function(t){e.$set(e.newFile,"gallery",t)},expression:"newFile.gallery"}}):e._e(),n("form",{on:{submit:function(t){return e.handleNew(e.newFile)}}},[n("i",{class:"video"==e.newFile.type?"fab fa-youtube":"far fa-images"}),"video"==e.newFile.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.newFile.code,expression:"newFile.code"}],attrs:{type:"text",placeholder:"Youtube id (dQw4w9WgXcQ)",required:""},domProps:{value:e.newFile.code},on:{input:function(t){t.target.composing||e.$set(e.newFile,"code",t.target.value)}}}):"images"==e.newFile.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.newFile.title,expression:"newFile.title"}],attrs:{type:"text",placeholder:"Titulek",required:""},domProps:{value:e.newFile.title},on:{input:function(t){t.target.composing||e.$set(e.newFile,"title",t.target.value)}}}):e._e(),n("br"),n("div",{staticClass:"tags"},[e._l(e.newFile.tags,(function(t,a){return n("a",{key:t,on:{click:function(t){return e.handleTagDelete(a,e.newFile)}}},[e._v(" "+e._s(t)+" "),n("i",{staticClass:"fas fa-times",attrs:{"aria-label":"Odstranit tag"}})])})),n("select",{on:{change:function(t){return e.handleSelectTag(e.newFile)}}},[n("option",{attrs:{value:""}},[e._v("Vyberte z existujících tagů")]),e._l(e.newFile.tags?e.tags.filter((function(t){return-1===e.newFile.tags.indexOf(t)})):e.tags,(function(t){return n("option",{key:t},[e._v(" "+e._s(t)+" ")])}))],2),n("button",{attrs:{type:"button"},on:{click:function(t){return e.handleNewTag(e.newFile)}}},[e._v(" Nebo přidejte nový "),n("i",{staticClass:"fas fa-plus"})])],2),e._m(0)])],1)]):e._e(),e._l(e.media,(function(t,a){return n("div",{key:t._id,staticClass:"file"},[n("div",["video"==t.type?n("img",{staticClass:"img",attrs:{src:"https://img.youtube.com/vi/"+t.code+"/0.jpg",alt:"thumb"}}):n("Gallery",{model:{value:t.gallery,callback:function(n){e.$set(t,"gallery",n)},expression:"file.gallery"}}),n("form",{on:{submit:function(n){return e.handleEdit(t)}}},[n("i",{class:"video"==e.newFile.type?"fab fa-youtube":"far fa-images"}),"video"==t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"file.code"}],attrs:{type:"text",placeholder:"Youtube id (dQw4w9WgXcQ)",required:""},domProps:{value:t.code},on:{input:function(n){n.target.composing||e.$set(t,"code",n.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"file.title"}],attrs:{type:"text",placeholder:"Titulek",required:""},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}}),n("br"),n("div",{staticClass:"tags"},[e._l(t.tags,(function(a,r){return n("a",{key:a,on:{click:function(n){return e.handleTagDelete(r,t)}}},[e._v(" "+e._s(a)+" "),n("i",{staticClass:"fas fa-times",attrs:{"aria-label":"Odstranit tag"}})])})),n("select",{on:{change:function(n){return e.handleSelectTag(t)}}},[n("option",{attrs:{value:""}},[e._v("Vyberte z existujících tagů")]),e._l(t.tags?e.tags.filter((function(e){return-1===t.tags.indexOf(e)})):e.tags,(function(t){return n("option",{key:t},[e._v(" "+e._s(t)+" ")])}))],2),n("button",{attrs:{type:"button"},on:{click:function(n){return e.handleNewTag(t)}}},[e._v(" Nebo přidejte nový "),n("i",{staticClass:"fas fa-plus"})])],2),n("span",{staticClass:"buttons"},[n("button",{attrs:{type:"submit"}},[e._v("Uložit")]),n("button",{attrs:{type:"button"},on:{click:function(t){return e.handleDelete(a)}}},[e._v(" Odstranit ")])])])],1)])}))],2)])},$e=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"buttons"},[n("button",{attrs:{type:"submit"}},[e._v("Přidat")])])}],Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gallery"},[e.images.length>0?n("img",{attrs:{src:e.images[0]},on:{click:e.open}}):n("span",{staticClass:"fas fa-plus",on:{click:e.open}}),e.visible?n("div",{staticClass:"overlay",on:{click:e.handleOutside}},[n("div",{staticClass:"container"},[n("h3",[e._v("Nahrát")]),n("br"),n("div",{staticClass:"drop-area",on:{dragenter:function(t){return e.highlight(!0,".drop-area","highlight-blue")},dragleave:function(t){return e.highlight(!1,".drop-area","highlight-blue")},drop:function(t){return e.highlight(!1,".drop-area","highlight-blue")}}},[n("i",{staticClass:"fas fa-upload"}),n("input",{attrs:{type:"file",name:"file-input",multiple:"True"},on:{change:e.handleFileInput}})]),n("h3",[e._v("Seřadit")]),n("draggable",{staticClass:"images",on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1},change:e.handleChange},model:{value:e.images,callback:function(t){e.images=t},expression:"images"}},e._l(e.images,(function(t,a){return n("div",{key:t},[n("i",{staticClass:"fas fa-grip-lines"}),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"image"}],attrs:{draggable:""},on:{dragstart:function(t){return e.dragStart(a)}}}),n("span",[n("a",{staticClass:"fas fa-angle-up",attrs:{disabled:0===a},on:{click:function(t){return e.handleMove(a,a-1)}}}),n("a",{staticClass:"fas fa-angle-down",attrs:{disabled:a===e.images.length-1},on:{click:function(t){return e.handleMove(a,a+1)}}}),n("a",{staticClass:"fas fa-times",on:{click:function(t){return e.handleDelete(a)}}})])])})),0)],1),n("button",{staticClass:"fas fa-times",on:{click:e.close}})]):e._e()])},Ce=[],Re=n("b85c"),Ne=n("310e"),De=n.n(Ne),Se={components:{draggable:De.a},props:["value"],data:function(){return{visible:!1,images:[],staticUrl:"/static"}},created:function(){this.images=this.value},methods:{open:function(){this.visible=!0},close:function(){this.visible=!1},handleOutside:function(){"overlay"==event.target.classList[0]&&this.close()},highlight:function(e,t,n){e?document.querySelector(t).classList.add(n):document.querySelector(t).classList.remove(n)},handleDelete:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.images[e],!confirm("Opravdu checete tento soubor odstranit?")){n.next=6;break}return n.next=4,fetch("".concat(t.staticUrl,"/api/rm").concat(a),{method:"DELETE"});case 4:r=n.sent,200==r.status?t.images.splice(e,1):alert("Vyskytla se chyba");case 6:case"end":return n.stop()}}),n)})))()},handleMove:function(e,t){if(t>=0&&t<=this.images.length-1){var n=this.images[e];this.images.splice(e,1),this.images.splice(t,0,n)}},handleChange:function(){this.$emit("input",this.images)},handleFileInput:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.target.files,r=new FormData,s=Object(Re["a"])(a);try{for(s.s();!(i=s.n()).done;)o=i.value,r.append("files[]",o,o.name)}catch(l){s.e(l)}finally{s.f()}return n.next=6,fetch("".concat(t.staticUrl,"/api/upload"),{method:"POST",body:r});case 6:if(c=n.sent,202!=c.status){n.next=16;break}return n.t0=t.images,n.next=11,c.json();case 11:n.t1=n.sent,t.images=n.t0.concat.call(n.t0,n.t1),t.$emit("input",t.images),n.next=17;break;case 16:alert("Vyskytla se chyba");case 17:case"end":return n.stop()}}),n)})))()}}},ze=Se,Ee=(n("3285"),Object(h["a"])(ze,Pe,Ce,!1,null,"f73e3322",null)),Fe=Ee.exports,Te={components:{Gallery:Fe},data:function(){return{media:[],newFile:{gallery:[],tags:[]},tags:[]}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(S["getData"])("/media/0/0");case 2:return e.media=t.sent,t.next=5,Object(S["getData"])("/media/tags");case 5:e.tags=t.sent;case 6:case"end":return t.stop()}}),t)})))()},methods:{setType:function(e){this.$set(this.newFile,"type",e)},handleEdit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return event.preventDefault(),e=Object.assign({},e),a=e._id,delete e._id,n.next=6,Object(S["postData"])("/media/"+a,JSON.stringify(e));case 6:r=n.sent,202===r.status?t.$notify({type:"success",title:'<i class="fas fa-check" />',text:"Úspěšně uloženo"}):alert("Vyskytla se chyba");case 8:case"end":return n.stop()}}),n)})))()},handleDelete:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(event.preventDefault(),a=t.media[e]._id,!confirm("Opravdu chcete tuto položku smazat?")){n.next=7;break}return n.next=5,Object(S["deleteData"])("/media/"+a);case 5:r=n.sent,202===r.status?t.media.splice(e,1):alert("Vyskytla se chyba");case 7:case"end":return n.stop()}}),n)})))()},handleNew:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return event.preventDefault(),n=Object.assign({},e.newFile),"video"==e.newFile.type&&delete n.gallery,t.next=5,Object(S["putData"])("/media",JSON.stringify(n));case 5:if(a=t.sent,202!==a.status){t.next=18;break}return t.next=9,a.json();case 9:r=t.sent,s=r.id,i=r.gallery,i&&(e.newFile.gallery=i),e.newFile._id=s,e.media.unshift(e.newFile),e.newFile={gallery:[]},t.next=19;break;case 18:alert("Vyskytla se chyba");case 19:case"end":return t.stop()}}),t)})))()},handleTagDelete:function(e,t){t.tags.splice(e,1)},handleSelectTag:function(e){var t=event.target.value;event.target.value="",e.tags?e.tags.push(t):this.$set(e,"tags",[t])},handleNewTag:function(e){var t=prompt("Zadejte jméno nového tagu:");if(t){if(e.tags){if(-1!==e.tags.indexOf(t))return;e.tags.push(t)}else this.$set(e,"tags",[t]);-1===this.tags.indexOf(t)&&this.tags.push(t)}}}},Ue=Te,qe=(n("6be7"),Object(h["a"])(Ue,je,$e,!1,null,"5539c14b",null)),Le=qe.exports,Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Ocenění")]),n("div",{staticClass:"wrapper"},[n("form",{staticClass:"row new",on:{submit:e.handleSave}},[n("GameIcon",{attrs:{icons:e.icons},model:{value:e.newOceneni.game,callback:function(t){e.$set(e.newOceneni,"game",t)},expression:"newOceneni.game"}}),n("div",{staticClass:"award-info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newOceneni.title,expression:"newOceneni.title"}],attrs:{type:"text",placeholder:"Turnaj",required:""},domProps:{value:e.newOceneni.title},on:{input:function(t){t.target.composing||e.$set(e.newOceneni,"title",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newOceneni.player,expression:"newOceneni.player"}],attrs:{type:"text",placeholder:"Hráč(i)"},domProps:{value:e.newOceneni.player},on:{input:function(t){t.target.composing||e.$set(e.newOceneni,"player",t.target.value)}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newOceneni.placement,expression:"newOceneni.placement"}],staticClass:"award-place",attrs:{type:"text",placeholder:"#.",required:""},domProps:{value:e.newOceneni.placement},on:{input:function(t){t.target.composing||e.$set(e.newOceneni,"placement",t.target.value)}}}),e._m(0)],1),e._l(e.data,(function(t,a){return n("form",{key:t._id,staticClass:"row",on:{submit:function(n){return e.handleEdit(n,t)}}},[n("GameIcon",{attrs:{icons:e.icons},model:{value:t.game,callback:function(n){e.$set(t,"game",n)},expression:"oceneni.game"}}),n("div",{staticClass:"award-info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"oceneni.title"}],attrs:{type:"text",required:""},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.player,expression:"oceneni.player"}],attrs:{type:"text"},domProps:{value:t.player},on:{input:function(n){n.target.composing||e.$set(t,"player",n.target.value)}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.placement,expression:"oceneni.placement"}],staticClass:"award-place",attrs:{type:"text"},domProps:{value:t.placement},on:{input:function(n){n.target.composing||e.$set(t,"placement",n.target.value)}}}),n("div",{staticClass:"controls"},[n("button",{staticClass:"fas fa-edit",attrs:{type:"submit"}}),n("button",{staticClass:"fas fa-trash-alt",attrs:{type:"button"},on:{click:function(t){return e.handleDelete(a)}}})])],1)}))],2)])},Ae=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"controls"},[n("button",{staticClass:"fas fa-save",attrs:{type:"submit"}})])}],Je=(n("4160"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top"},[e.visible?n("div",{staticClass:"overlay"},[n("div",{staticClass:"container"},[n("h2",[e._v(" Vyberte hru ")]),n("button",{staticClass:"fas fa-times close",on:{click:e.close}}),e._l(e.icons,(function(t,a){return n("img",{key:t._id,staticClass:"icon",attrs:{src:t.icon,alt:a,title:a},on:{click:e.handleChoose}})})),n("router-link",{staticClass:"fas fa-plus",attrs:{to:"/hry",title:"Přidat hru"}})],2)]):e._e(),void 0!=e.value&&void 0!=e.icons[e.value]?n("img",{attrs:{src:e.icons[e.value].icon,alt:e.value,title:e.value},on:{click:e.open}}):n("button",{staticClass:"choose",attrs:{type:"button"},on:{click:e.open}},[e._v(" Vybrat ")])])}),Ge=[],Be={props:["value","icons"],data:function(){return{visible:!1}},methods:{open:function(){this.visible=!0},close:function(){this.visible=!1},handleChoose:function(e){this.$emit("input",e.target.title),this.close()}}},Ie=Be,Me=(n("8a02"),Object(h["a"])(Ie,Je,Ge,!1,null,"f63d0cae",null)),Ze=Me.exports,He={components:{GameIcon:Ze},data:function(){return{data:[],icons:{},newOceneni:{}}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.start(),t.next=3,Object(S["getData"])("/oceneni");case 3:return e.data=t.sent,t.next=6,Object(S["getData"])("/icons");case 6:n=t.sent,a={},n.forEach((function(e){a[e.name]=e})),e.icons=a,e.$Progress.finish();case 11:case"end":return t.stop()}}),t)})))()},methods:{handleSave:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.preventDefault(),a=Object.assign({},t.newOceneni),a.game=void 0!=t.icons[a.game]?t.icons[a.game]._id:null,n.next=5,Object(S["putData"])("/oceneni",JSON.stringify(a));case 5:if(r=n.sent,202!=r.status){n.next=16;break}return n.next=9,r.json();case 9:s=n.sent,i=s.id,t.newOceneni._id=i,t.data.unshift(t.newOceneni),t.newOceneni={},n.next=17;break;case 16:alert("Vyskytla se chyba");case 17:case"end":return n.stop()}}),n)})))()},handleEdit:function(e,t){var n=this;return Object(D["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.preventDefault(),t=Object.assign({},t),r=t._id,delete t._id,t.game=n.icons[t.game]._id,a.next=7,Object(S["postData"])("/oceneni/"+r,JSON.stringify(t));case 7:s=a.sent,202==s.status?n.$notify({type:"success",title:'<i class="fas fa-check" />',text:"Úspěšně uloženo"}):alert("Vyskytla se chyba");case 9:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.data[e]._id,!confirm("Opravdu chcete toto ocenění smazat?")){n.next=6;break}return n.next=4,Object(S["deleteData"])("/oceneni/"+a);case 4:r=n.sent,202==r.status?t.data.splice(e,1):alert("Vyskytla se chyba");case 6:case"end":return n.stop()}}),n)})))()}}},Ke=He,We=(n("76de"),Object(h["a"])(Ke,Ve,Ae,!1,null,"b7fb5ce6",null)),Qe=We.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Uživatelé")]),n("div",{staticClass:"uzivatele"},[e.admin?n("router-link",{staticClass:"uzivatel",attrs:{to:"/uzivatel/pridat"}},[n("h1",{staticClass:"fas fa-user-plus"}),n("h2",[e._v("Přidat")])]):e._e(),e._l(e.uzivatele,(function(t){return n("router-link",{key:t._id,staticClass:"uzivatel",attrs:{to:"uzivatel/"+t.name}},[n("h1",{staticClass:"fas fa-user",style:t.admin?"color: #ffd500":"",attrs:{title:t.admin?"Admin":""}}),n("h2",[e._v(e._s(t.name))])])}))],2)])},Xe=[],et={data:function(){return{uzivatele:[],admin:!1}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.start(),t.next=3,Object(S["getData"])("/uzivatele");case 3:return e.uzivatele=t.sent,t.next=6,Object(S["getTokenPayload"])();case 6:n=t.sent,a=n.admin,e.admin=a,e.$Progress.finish();case 10:case"end":return t.stop()}}),t)})))()}},tt=et,nt=(n("25a3"),Object(h["a"])(tt,Ye,Xe,!1,null,"2ce70169",null)),at=nt.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:e.handleSubmit}},[n("strong",[e._v(" Vzhledem k designu zabezpečení je při změně hesla potřeba regenerovat 2FA kód! ")]),n("h2",[e._v("Nové heslo")]),n("Password",{attrs:{toggle:!0,required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("Edit2FA",{attrs:{oldPass:!1},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),n("button",{staticClass:"submitBtn",attrs:{type:"submit"}},[e._v(" Uložit ")]),n("br"),e.name==e.$route.params.name?n("strong",[e._v(" Kombinace nového hesla a 2FA kódu začne platit okamžitě po stisknutí tlačítka, z tohoto důvodu budete odhlášeni ")]):n("strong",[e._v(" Kombinace nového hesla a 2FA kódu začne platit okamžitě po stisknutí tlačítka ")])],1)},st=[],it=n("f20a"),ot=n.n(it),ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h2",[e._v("2FA kód")]),e.oldPass?n("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],attrs:{type:"password",placeholder:"Stávající heslo",required:""},domProps:{value:e.pass},on:{input:function(t){t.target.composing||(e.pass=t.target.value)}}}):e._e(),n("div",[n("i",[e._v(e._s(e.value.totp))]),n("br"),e.value.name.length>0?n("img",{attrs:{src:e.qr,title:encodeURI("otpauth://totp/"+this.value.name+"?secret="+this.value.totp+"&issuer=iNvolute")}}):n("div",{staticStyle:{height:"200px"}})]),n("br")])},lt=[],ut=(n("ace4"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("8232")),dt=n.n(ut),pt=n("d055"),ft=n.n(pt),mt={props:{value:{},oldPass:{default:!0}},data:function(){return{qr:"",pass:""}},computed:{name:function(){return this.value.name}},watch:{name:"generateQR"},created:function(){this.value.totp=dt()(window.crypto.getRandomValues(new Uint8Array(35)),"RFC3548",{padding:!1}).toLowerCase(),this.generateQR(),this.$emit("input",this.value)},methods:{generateQR:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.value.name.length>0)){t.next=6;break}return t.next=3,ft.a.toDataURL(encodeURI("otpauth://totp/".concat(e.value.name,"?secret=").concat(e.value.totp,"&issuer=iNvolute")));case 3:e.qr=t.sent,t.next=7;break;case 6:e.qr="";case 7:case"end":return t.stop()}}),t)})))()}}},vt=mt,ht=(n("c7a8"),Object(h["a"])(vt,ct,lt,!1,null,"74a0fb5c",null)),gt=ht.exports,bt={components:{Password:ot.a,Edit2FA:gt},data:function(){return{user:{name:this.$route.params.name,totp:""},password:"",admin:!1,name:""}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(S["getTokenPayload"])();case 2:n=t.sent,a=n.admin,r=n.name,e.admin=Boolean(a),e.name=r;case 7:case"end":return t.stop()}}),t)})))()},methods:{handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,Object(S["postAuthData"])("/updatePass/"+t.$route.params.name,JSON.stringify({password:t.password,totp:t.user.totp}));case 3:a=n.sent,301==a.status&&t.user.name==t.name?window.location.href="/api/auth/logout":301==a.status?t.$router.push("/uzivatele"):alert("Něco se pokazilo");case 5:case"end":return n.stop()}}),n)})))()}}},kt=bt,yt=(n("1607"),Object(h["a"])(kt,rt,st,!1,null,"5f7c2332",null)),wt=yt.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:e.handleSubmit}},[n("Edit2FA",{ref:"2FA",model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),e.name==e.$route.params.name?n("strong",[e._v(" Nový secret začne platit okamžitě po stisknutí tlačítka, z tohoto důvodu budete odhlášeni ")]):n("strong",[e._v(" Nový secret začne platit okamžitě po stisknutí tlačítka ")]),n("br"),n("button",{staticClass:"submitBtn",attrs:{type:"submit"}},[e._v("Uložit")])],1)},xt=[],Ot={components:{Edit2FA:gt},data:function(){return{user:{name:this.$route.params.name,totp:""},tier:0,name:""}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(S["getTokenPayload"])();case 2:n=t.sent,a=n.token,r=n.name,e.token=a,e.name=r;case 7:case"end":return t.stop()}}),t)})))()},methods:{handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,Object(S["postAuthData"])("/updateTotp/"+t.$route.params.name,JSON.stringify({password:t.$refs["2FA"].pass,totp:t.user.totp}));case 3:a=n.sent,301==a.status&&t.user.name==t.name?window.location.href="/api/auth/logout":301==a.status?t.$router.push("/uzivatele"):alert("Něco se pokazilo. Zkontroluje si prosím správnost hesla");case 5:case"end":return n.stop()}}),n)})))()}}},jt=Ot,$t=(n("74ad"),Object(h["a"])(jt,_t,xt,!1,null,"13151084",null)),Pt=$t.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[e.newUser?n("form",{on:{submit:e.handleSubmitNew}},[n("div",{staticClass:"header"},[n("h1",{staticClass:"fas fa-user-circle"}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",disabled:!e.canEdit.self,placeholder:"Jméno",maxlength:"32",required:""},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),n("h2",[e._v("Heslo")]),n("Password",{attrs:{toggle:!0,required:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("Edit2FA",{attrs:{oldPass:!1},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),n("button",{staticClass:"submitBtn",attrs:{type:"submit"}},[e._v("Přidat")])],1):n("form",{on:{submit:e.handleSubmit}},[n("div",{staticClass:"header"},[n("h1",{staticClass:"fas fa-user-circle"}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",disabled:!e.canEdit.self&&!e.canEdit.all,placeholder:"Jméno",maxlength:"32",required:""},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),n("p",[e._v(" Naposledy přihlášen(a): "),n("b",[e._v(e._s(void 0!=e.user.timestamp?new Date(1e3*e.user.timestamp).toLocaleString("cs-CS",{}):"Nikdy"))])])]),n("div",{staticClass:"editUser"},[n("button",{attrs:{type:"button",disabled:!e.canEdit.self&&!e.canEdit.all},on:{click:function(t){return e.handlePageChange("/heslo")}}},[e._v(" Změnit heslo ")]),n("button",{attrs:{type:"button",disabled:!e.canEdit.self&&!e.canEdit.all},on:{click:function(t){return e.handlePageChange("/2FA")}}},[e._v(" Vygenerovat 2FA ")]),n("button",{attrs:{type:"button",disabled:e.canEdit.self&&e.canEdit.all||e.canEdit.self||!e.canEdit.all||"Tarasa24"==e.user.name},on:{click:e.handleRemove}},[e._v(" Odstranit uživatele ")])])])])},Rt=[],Nt=(n("ac1f"),n("5319"),{components:{Password:ot.a,Edit2FA:gt},props:{newUser:{type:Boolean}},data:function(){return{user:{name:"",password:""},canEdit:{self:!0,all:!0}}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newUser){t.next=21;break}return t.prev=1,t.next=4,Object(S["getData"])("/uzivatel/"+e.$route.params.name);case 4:return n=t.sent,a=n._id,r=n.name,s=n.lastJWT,e.user._id=a,e.user.name=r,e.user.timestamp=s.timestamp,t.next=13,Object(S["getTokenPayload"])();case 13:i=t.sent,e.canEdit.self=i.name===e.user.name,e.canEdit.all=i.admin,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](1),e.$router.replace("/uzivatele");case 21:case"end":return t.stop()}}),t,null,[[1,18]])})))()},methods:{handlePageChange:function(e){this.$router.push(this.$route.path+e)},handleRemove:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.preventDefault(),!confirm("Opravdu chcete ".concat(t.user.name," odstranit?"))){n.next=6;break}return n.next=4,Object(S["deleteAuthData"])("/deleteUser/"+t.$route.params.name);case 4:a=n.sent,202==a.status?t.$router.replace("/uzivatele"):alert("Vyskytla se chyba");case 6:case"end":return n.stop()}}),n)})))()},handleSubmitNew:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.preventDefault(),""!=t.user.password){n.next=5;break}alert("Zadaná hesla nejsou stejná"),n.next=9;break;case 5:return n.next=7,Object(S["postAuthData"])("/createUser",JSON.stringify(Object.assign(t.user,{lastJWT:{}})));case 7:a=n.sent,202==a.status?t.$router.push("/uzivatele"):409==a.status?alert("Uživatel s tímto jménem již existuje"):alert("Vyskytla se chyba");case 9:case"end":return n.stop()}}),n)})))()},handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,Object(S["postAuthData"])("/updateUser/"+t.$route.params.name,JSON.stringify({name:t.user.name}));case 3:a=n.sent,202!=a.status||t.canEdit.self?202==a.status&&t.canEdit.self?window.location.href="/api/auth/logout":alert("Vyskytla se chyba"):t.$router.push("/uzivatele");case 5:case"end":return n.stop()}}),n)})))()}}}),Dt=Nt,St=(n("69f8"),Object(h["a"])(Dt,Ct,Rt,!1,null,"39832988",null)),zt=St.exports,Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Databáze")]),n("div",{staticClass:"wrapper"},[n("Box",{attrs:{title:"Počet kolekcí",icon:"fas fa-list",number:e.stats.collections||0}}),n("Box",{attrs:{title:"Celková velikost dat (v MB)",icon:"fas fa-database",number:(e.stats.dataSize/1048576).toFixed(2)||0}}),n("Box",{attrs:{title:"Počet objektů",icon:"fas fa-file-alt",number:e.stats.objects||0}}),n("Box",{attrs:{title:"Průměrná velikost objektu (v kB)",icon:"fas fa-database",number:(e.stats.avgObjSize/1024).toFixed(2)||0}})],1),e.width>800?n("iframe",{attrs:{src:e.stats.url,frameborder:"0"}}):n("a",{attrs:{href:e.stats.url}},[e._m(0)])])},Ft=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",[n("span",{staticClass:"fas fa-external-link-alt"}),e._v(" MongoDB monitoring ")])}],Tt={components:{Box:B},data:function(){return{stats:{},width:window.innerWidth}},mounted:function(){window.addEventListener("resize",this.onResize)},unmounted:function(){window.removeEventListener("resize",this.onResize)},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.start(),t.next=3,Object(S["getData"])("/dbstats");case 3:e.stats=t.sent,e.$Progress.finish();case 5:case"end":return t.stop()}}),t)})))()},methods:{onResize:function(){this.width=window.innerWidth}}},Ut=Tt,qt=(n("75b6"),Object(h["a"])(Ut,Et,Ft,!1,null,"4a34daf4",null)),Lt=qt.exports,Vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Hráči")]),n("div",[n("router-link",{staticClass:"hrac add",attrs:{to:"/hrac/pridat"}},[n("a",{staticClass:"fas fa-plus"})]),e._l(e.hraci,(function(t){return n("router-link",{key:t._id,staticClass:"hrac",style:"background: url("+t.img+"), white",attrs:{to:"/hrac/"+t.name}},[n("span",[n("a",[e._v(e._s(t.name))])])])}))],2)])},At=[],Jt={data:function(){return{hraci:[]}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.start(),t.next=3,Object(S["getData"])("/hraci");case 3:e.hraci=t.sent,e.$Progress.finish();case 5:case"end":return t.stop()}}),t)})))()}},Gt=Jt,Bt=(n("4ddc"),Object(h["a"])(Gt,Vt,At,!1,null,"467b2fa6",null)),It=Bt.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("div",{staticClass:"mugshot",on:{click:e.handleClick}},[n("img",{attrs:{src:e.player.img,alt:e.player.name}}),n("span",{style:e.newPlayer||void 0==this.player.img?"color: gray; opacity: 1; visibility: visible":""},[n("b",[e._v("Změnit portrét")])])]),n("form",{on:{submit:e.handleSubmit}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.name,expression:"player.name"}],staticClass:"name",attrs:{type:"text",placeholder:"Jméno",required:""},domProps:{value:e.player.name},on:{input:function(t){t.target.composing||e.$set(e.player,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.role,expression:"player.role"}],staticClass:"role",attrs:{type:"text",placeholder:"Role v týmu"},domProps:{value:e.player.role},on:{input:function(t){t.target.composing||e.$set(e.player,"role",t.target.value)}}}),n("h2",[e._v("About")]),n("table",e._l(e.player.about,(function(t,a){return n("tr",{key:a},[n("td",[e._v(e._s(a))]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.about[a],expression:"player.about[q]"}],attrs:{type:"text"},domProps:{value:e.player.about[a]},on:{input:function(t){t.target.composing||e.$set(e.player.about,a,t.target.value)}}})])])})),0),n("h2",[e._v("Sestava")]),n("table",e._l(e.player.sestava,(function(t,a){return n("tr",{key:a},[n("td",[e._v(e._s(a))]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.sestava[a],expression:"player.sestava[q]"}],attrs:{type:"text"},domProps:{value:e.player.sestava[a]},on:{input:function(t){t.target.composing||e.$set(e.player.sestava,a,t.target.value)}}})])])})),0),n("h2",[e._v("Odkazy")]),n("table",[n("tbody",[n("tr",[e._m(0),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.links.facebook,expression:"player.links.facebook"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.player.links.facebook},on:{input:function(t){t.target.composing||e.$set(e.player.links,"facebook",t.target.value)}}})])]),n("tr",[e._m(1),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.links.instagram,expression:"player.links.instagram"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.player.links.instagram},on:{input:function(t){t.target.composing||e.$set(e.player.links,"instagram",t.target.value)}}})])]),n("tr",[e._m(2),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.links.twitch,expression:"player.links.twitch"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.player.links.twitch},on:{input:function(t){t.target.composing||e.$set(e.player.links,"twitch",t.target.value)}}})])]),n("tr",[e._m(3),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.links.twitter,expression:"player.links.twitter"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.player.links.twitter},on:{input:function(t){t.target.composing||e.$set(e.player.links,"twitter",t.target.value)}}})])]),n("tr",[e._m(4),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.links.web,expression:"player.links.web"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.player.links.web},on:{input:function(t){t.target.composing||e.$set(e.player.links,"web",t.target.value)}}})])])])]),e.newPlayer?n("div",[n("button",{attrs:{type:"submit"}},[e._v("Vytvořit")])]):n("div",[n("button",{attrs:{type:"submit"}},[e._v("Uložit")]),n("button",{attrs:{type:"button"},on:{click:e.handleDelete}},[e._v("Odstranit")])])]),n("FileUpload",{ref:"FileUpload",model:{value:e.player.img,callback:function(t){e.$set(e.player,"img",t)},expression:"player.img"}})],1)},Zt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-facebook"}),e._v(" Facebook")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-instagram"}),e._v(" Instagram")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-twitch"}),e._v(" Twitch")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-twitter"}),e._v(" Twitter")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fas fa-link"}),e._v(" Web")])}],Ht=(n("b64b"),{props:{newPlayer:{type:Boolean}},components:{FileUpload:ye},data:function(){return{player:{about:{},sestava:{},links:{}}}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newPlayer){t.next=6;break}return e.$Progress.start(),t.next=4,Object(S["getData"])("/hrac/"+e.$route.params.name);case 4:e.player=t.sent,e.$Progress.finish();case 6:if(n={"Věk":"","Co rád dělám?":"","Proč právě má hra?":"","Co mě přitahuje k esportu?":""},e.player.about)for(a=0,r=Object.keys(e.player.about);a<r.length;a++)s=r[a],Object.keys(n).includes(s)&&(n[s]=e.player.about[s]);if(e.player.about=n,i={"Základní deska":"",Procesor:"","Grafická Karta":"",Monitor:"","Klávesnice":"","Myš":"","Sluchátka":""},e.player.sestava)for(o=0,c=Object.keys(e.player.sestava);o<c.length;o++)l=c[o],Object.keys(i).includes(l)&&(i[l]=e.player.sestava[l]);e.player.sestava=i;case 12:case"end":return t.stop()}}),t)})))()},methods:{handleClick:function(){this.$refs.FileUpload.open()},clean:function(e){for(var t in e)0===e[t].length&&delete e[t]},handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.$Progress.start(),!t.newPlayer){n.next=8;break}return n.next=5,Object(S["putData"])("/hrac",JSON.stringify(t.player));case 5:a=n.sent,n.next=16;break;case 8:return r=Object.assign({},t.player),delete r._id,t.clean(r.about),t.clean(r.sestava),t.clean(r.links),n.next=15,Object(S["postData"])("/hrac/"+t.player._id,JSON.stringify(r));case 15:a=n.sent;case 16:202==a.status?(t.$Progress.finish(),t.$router.push("/hraci")):(t.$Progress.fail(),alert("Vyskytla se chyba"));case 17:case"end":return n.stop()}}),n)})))()},handleDelete:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm('Opravdu chcete hráče "'.concat(e.player.name,'" odstranit?'))){t.next=6;break}return e.$Progress.start(),t.next=4,Object(S["deleteData"])("/hrac/"+e.player._id);case 4:n=t.sent,202==n.status?(e.$Progress.finish(),e.$router.push("/hraci")):(e.$Progress.fail(),alert("Vyskytla se chyba"));case 6:case"end":return t.stop()}}),t)})))()}}}),Kt=Ht,Wt=(n("ac1d"),Object(h["a"])(Kt,Mt,Zt,!1,null,"3e335aee",null)),Qt=Wt.exports,Yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Seznam her")]),e._l(e.games,(function(t,a){return n("div",{key:t._id,staticClass:"game",style:"background: linear-gradient(0deg, rgba(0,0,0,0.55), rgba(0,0,0,0.6)), url("+t.bg+")",attrs:{id:t.name}},[n("i",{staticClass:"far fa-edit edit",attrs:{title:"Přidat hlavní náhledový obrázek"},on:{click:function(n){return e.handleClick(t._id,0)}}}),n("i",{staticClass:"fas fa-times close",on:{click:function(t){return e.handleDelete(a)}}}),n("FileUpload",{ref:t._id,refInFor:!0,on:{input:function(n){return e.handleUpload(t._id,"bg")}},model:{value:t.bg,callback:function(n){e.$set(t,"bg",n)},expression:"game.bg"}}),n("br"),n("div",{staticClass:"title"},[0===t.icon.length?n("button",{staticClass:"icon",on:{click:function(n){return e.handleClick(t._id,1)}}},[e._v(" Přidat ikonu ")]):n("img",{attrs:{src:t.icon,alt:"Icon",title:"Změnit ikonu"},on:{click:function(n){return e.handleClick(t._id,1)}}}),n("FileUpload",{ref:t._id,refInFor:!0,on:{input:function(n){return e.handleUpload(t._id,"icon")}},model:{value:t.icon,callback:function(n){e.$set(t,"icon",n)},expression:"game.icon"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"game.name"}],attrs:{type:"text",placeholder:"Název hry",required:""},domProps:{value:t.name},on:{change:function(n){return e.handleChange(t._id,n)},input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}})],1),n("h2",[e._v("Soupiska")]),n("table",{staticClass:"players"},[n("tbody",[e._l(t.players,(function(t,r){return n("tr",{key:t._id},[n("td",[e._v(e._s(t.name))]),n("td",{on:{click:function(t){return e.handlePlayerRemove(a,r)}}},[n("i",{staticClass:"fas fa-times"})])])})),e._m(0,!0),n("PlayerList",{attrs:{gameId:t._id,players:e.filterPlayers(e.allPlayers,t.players),playersPointer:t.players}})],2)])],1)})),n("h1",[e._v("Přidat hru")]),n("form",{staticClass:"game",style:"background: linear-gradient(0deg, rgba(0,0,0,0.55), rgba(0,0,0,0.6)), url("+e.newGame.bg+")",attrs:{id:"new"},on:{submit:e.handleSubmit}},[n("i",{staticClass:"far fa-edit edit",attrs:{title:"Přidat hlavní náhledový obrázek"},on:{click:function(t){return e.handleClick("newGame1")}}}),n("FileUpload",{ref:"newGame1",model:{value:e.newGame.bg,callback:function(t){e.$set(e.newGame,"bg",t)},expression:"newGame.bg"}}),n("br"),n("div",{staticClass:"title"},[0===e.newGame.icon.length?n("button",{staticClass:"icon",attrs:{type:"button"},on:{click:function(t){return e.handleClick("newGame2")}}},[e._v(" Přidat ikonu ")]):n("img",{attrs:{src:e.newGame.icon,alt:"Icon",title:"Změnit ikonu"},on:{click:function(t){return e.handleClick("newGame2")}}}),n("FileUpload",{ref:"newGame2",model:{value:e.newGame.icon,callback:function(t){e.$set(e.newGame,"icon",t)},expression:"newGame.icon"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newGame.name,expression:"newGame.name"}],attrs:{type:"text",placeholder:"Název hry",required:""},domProps:{value:e.newGame.name},on:{input:function(t){t.target.composing||e.$set(e.newGame,"name",t.target.value)}}})],1),n("button",{attrs:{type:"submit"}},[e._v("Uložit")])],1)],2)},Xt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"spacer"},[n("td",{attrs:{colspan:"2"}})])}],en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("td",{staticClass:"add",attrs:{colspan:"2"}},[n("select",{on:{change:e.handleChange}},[n("option",[e._v("Přidat")]),e._l(e.players,(function(t,a){return n("option",{key:t._id,domProps:{value:a}},[e._v(e._s(t.name))])}))],2)])])},tn=[],nn={props:["gameId","players","playersPointer"],methods:{handleChange:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.players[e.target.value],void 0===t.gameId){n.next=8;break}return n.next=4,Object(S["postData"])("/hra/".concat(t.gameId,"/soupiska"),JSON.stringify({playerId:a._id}));case 4:r=n.sent,202===r.status?t.playersPointer.push(a):alert("Vyskytla se chyba"),n.next=9;break;case 8:t.playersPointer.push(a);case 9:case"end":return n.stop()}}),n)})))()}}},an=nn,rn=(n("16f4"),Object(h["a"])(an,en,tn,!1,null,"3faa3655",null)),sn=rn.exports,on={components:{FileUpload:ye,PlayerList:sn},data:function(){return{games:[],newGame:{icon:"",players:[]},allPlayers:[]}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.start(),t.next=3,Object(S["getData"])("/hry");case 3:return e.games=t.sent,t.next=6,Object(S["getData"])("/hraci?img=false");case 6:e.allPlayers=t.sent,e.$Progress.finish();case 8:case"end":return t.stop()}}),t)})))()},methods:{filterPlayers:function(e,t){for(var n=[],a=0;a<e.length;a++){for(var r=!1,s=0;s<t.length;s++)if(e[a]._id===t[s]._id){r=!0;break}r||n.push(e[a])}return n},handleClick:function(e,t){void 0!==t?this.$refs[e][t].open():this.$refs[e].open()},handlePlayerRemove:function(e,t){var n=this;return Object(D["a"])(regeneratorRuntime.mark((function a(){var r,s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=n.games[e]._id,s=n.games[e].players[t]._id,a.next=4,Object(S["deleteData"])("/hra/".concat(r,"/soupiska"),JSON.stringify({playerId:s}));case 4:i=a.sent,202===i.status?n.games[e].players.splice(t,1):alert("Vyskytla se chyba");case 6:case"end":return a.stop()}}),a)})))()},handleUpload:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(S["postData"])("/hra/".concat(e,"/").concat(t),JSON.stringify(Object(X["a"])({},t,event.target.result)));case 2:a=n.sent,202!==a.status&&alert("Vyskytla se chyba");case 4:case"end":return n.stop()}}),n)})))()},handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,Object(S["putData"])("/hra",JSON.stringify(t.newGame));case 3:if(a=n.sent,202!==a.status){n.next=14;break}return n.next=7,a.json();case 7:r=n.sent,s=r.id,t.newGame._id=s,t.games.push(t.newGame),t.newGame={icon:"",players:[]},n.next=15;break;case 14:alert("Vyskytla se chyba");case 15:case"end":return n.stop()}}),n)})))()},handleDelete:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.games[e]._id,!confirm("Opravdu chete tuto hru smazat?")){n.next=6;break}return n.next=4,Object(S["deleteData"])("/hra/".concat(a));case 4:r=n.sent,202===r.status?t.games.splice(e,1):alert("Vyskytla se chyba");case 6:case"end":return n.stop()}}),n)})))()},handleChange:function(e,t){return Object(D["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(S["postData"])("/hra/".concat(e,"/name"),JSON.stringify({name:t.target.value}));case 2:a=n.sent,202!==a.status&&alert("Vyskytla se chyba"),t.target.classList.add("flash"),setTimeout((function(){t.target.classList.remove("flash")}),1e3);case 6:case"end":return n.stop()}}),n)})))()}}},cn=on,ln=(n("b585"),n("eaf3"),Object(h["a"])(cn,Yt,Xt,!1,null,"760b4115",null)),un=ln.exports,dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Partneři")]),e._l(e.partneri,(function(t,a){return n("form",{key:t._id,staticClass:"partner",on:{submit:function(n){return e.handleSubmit(t)}}},[n("div",{staticClass:"img",on:{click:function(n){return e.openRef(t._id)}}},[n("img",{attrs:{src:t.img,alt:t.name}}),n("span",{style:void 0==+t.img?"color: gray; opacity: 1; visibility: visible":""},[n("b",[e._v("Změnit obrázek")])])]),n("div",{staticClass:"text"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"partner.name"}],attrs:{type:"text",placeholder:"Název",required:""},domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"partner.description"}],attrs:{placeholder:"Popis"},domProps:{value:t.description},on:{input:function(n){n.target.composing||e.$set(t,"description",n.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"partner.url"}],attrs:{type:"url",placeholder:"https://",required:""},domProps:{value:t.url},on:{input:function(n){n.target.composing||e.$set(t,"url",n.target.value)}}})]),n("span",{staticClass:"btns"},[n("button",{attrs:{type:"submit"}},[e._v("Uložit")]),n("button",{attrs:{type:"button"},on:{click:function(t){return e.handleDelete(a)}}},[e._v("Odstranit")])]),n("FileUpload",{ref:t._id,refInFor:!0,model:{value:t.img,callback:function(n){e.$set(t,"img",n)},expression:"partner.img"}})],1)})),n("form",{staticClass:"partner",on:{submit:e.handleNew}},[n("div",{staticClass:"img",on:{click:function(t){return e.openRef("newPartner")}}},[n("img",{attrs:{src:e.newPartner.img,alt:e.newPartner.name}}),n("span",{style:void 0==e.newPartner.img?"color: gray; opacity: 1; visibility: visible":""},[n("b",[e._v("Změnit obrázek")])])]),n("div",{staticClass:"text"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPartner.name,expression:"newPartner.name"}],attrs:{type:"text",placeholder:"Název",required:""},domProps:{value:e.newPartner.name},on:{input:function(t){t.target.composing||e.$set(e.newPartner,"name",t.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newPartner.description,expression:"newPartner.description"}],attrs:{placeholder:"Popis"},domProps:{value:e.newPartner.description},on:{input:function(t){t.target.composing||e.$set(e.newPartner,"description",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPartner.url,expression:"newPartner.url"}],attrs:{type:"url",placeholder:"https://",required:""},domProps:{value:e.newPartner.url},on:{input:function(t){t.target.composing||e.$set(e.newPartner,"url",t.target.value)}}})]),e._m(0),n("FileUpload",{ref:"newPartner",model:{value:e.newPartner.img,callback:function(t){e.$set(e.newPartner,"img",t)},expression:"newPartner.img"}})],1)],2)},pn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"btns"},[n("button",{attrs:{type:"submit"}},[e._v("Vytvořit")])])}],fn={components:{FileUpload:ye},data:function(){return{partneri:[],newPartner:{}}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.start(),t.next=3,Object(S["getData"])("/partneri");case 3:e.partneri=t.sent,e.$Progress.finish();case 5:case"end":return t.stop()}}),t)})))()},methods:{handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return event.preventDefault(),e=Object.assign({},e),a=e._id,delete e._id,n.next=6,Object(S["postData"])("/partner/"+a,JSON.stringify(e));case 6:r=n.sent,202===r.status?t.$notify({type:"success",title:'<i class="fas fa-check" />',text:"Úspěšně uloženo"}):alert("Vyskytla se chyba");case 8:case"end":return n.stop()}}),n)})))()},handleDelete:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.partneri[e]._id,!confirm("Opravdu chcete tohoto partnera smazat?")){n.next=6;break}return n.next=4,Object(S["deleteData"])("/partner/"+a);case 4:r=n.sent,202===r.status?t.partneri.splice(e,1):alert("Vyskytla se chyba");case 6:case"end":return n.stop()}}),n)})))()},handleNew:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return event.preventDefault(),t.next=3,Object(S["putData"])("/partner",JSON.stringify(e.newPartner));case 3:if(n=t.sent,202!==n.status){t.next=14;break}return t.next=7,n.json();case 7:a=t.sent,r=a.id,e.newPartner._id=r,e.partneri.push(e.newPartner),e.newPartner={},t.next=15;break;case 14:alert("Vyskytla se chyba");case 15:case"end":return t.stop()}}),t)})))()},openRef:function(e){"newPartner"!=e?this.$refs[e][0].open():this.$refs.newPartner.open()}}},mn=fn,vn=(n("9eab"),Object(h["a"])(mn,dn,pn,!1,null,"3c5a01be",null)),hn=vn.exports,gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Sponzoři")]),n("div",{staticClass:"sponsors"},[e._l(e.sponsors,(function(t,a){return n("form",{key:t._id,staticClass:"sponsor",on:{submit:function(n){return e.handleSubmit(t)}}},[n("div",{staticClass:"img",on:{click:function(n){return e.openRef(t._id)}}},[n("img",{attrs:{src:t.img,alt:t.name}}),n("span",{style:void 0==+t.img?"color: gray; opacity: 1; visibility: visible":""},[n("b",[e._v("Změnit obrázek")])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"sponsor.name"}],attrs:{type:"text",placeholder:"Název",required:""},domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"sponsor.url"}],attrs:{type:"url",placeholder:"https://",required:""},domProps:{value:t.url},on:{input:function(n){n.target.composing||e.$set(t,"url",n.target.value)}}}),n("span",[n("button",{staticClass:"fas fa-save",attrs:{type:"submit"}}),n("button",{staticClass:"fas fa-trash-alt",attrs:{type:"button"},on:{click:function(t){return e.handleDelete(a)}}})]),n("FileUpload",{ref:t._id,refInFor:!0,model:{value:t.img,callback:function(n){e.$set(t,"img",n)},expression:"sponsor.img"}})],1)})),n("form",{staticClass:"sponsor",on:{submit:e.handleNew}},[n("div",{staticClass:"img",on:{click:function(t){return e.openRef("newSponsor")}}},[n("img",{attrs:{src:e.newSponsor.img,alt:e.newSponsor.name}}),n("span",{style:void 0==e.newSponsor.img?"color: gray; opacity: 1; visibility: visible":""},[n("b",[e._v("Změnit obrázek")])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSponsor.name,expression:"newSponsor.name"}],attrs:{type:"text",placeholder:"Název",required:""},domProps:{value:e.newSponsor.name},on:{input:function(t){t.target.composing||e.$set(e.newSponsor,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newSponsor.url,expression:"newSponsor.url"}],attrs:{type:"url",placeholder:"https://",required:""},domProps:{value:e.newSponsor.url},on:{input:function(t){t.target.composing||e.$set(e.newSponsor,"url",t.target.value)}}}),n("button",{staticClass:"fas fa-plus",attrs:{type:"submit"}}),n("FileUpload",{ref:"newSponsor",model:{value:e.newSponsor.img,callback:function(t){e.$set(e.newSponsor,"img",t)},expression:"newSponsor.img"}})],1)],2)])},bn=[],kn={components:{FileUpload:ye},data:function(){return{sponsors:[],newSponsor:{}}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(S["getData"])("/sponzori");case 2:e.sponsors=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{openRef:function(e){"newSponsor"!=e?this.$refs[e][0].open():this.$refs.newSponsor.open()},handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return event.preventDefault(),e=Object.assign({},e),a=e._id,delete e._id,n.next=6,Object(S["postData"])("/sponzor/"+a,JSON.stringify(e));case 6:r=n.sent,202===r.status?t.$notify({type:"success",title:'<i class="fas fa-check" />',text:"Úspěšně uloženo"}):alert("Vyskytla se chyba");case 8:case"end":return n.stop()}}),n)})))()},handleDelete:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(event.preventDefault(),a=t.sponsors[e]._id,!confirm("Opravdu chcete tohoto sponzora smazat?")){n.next=7;break}return n.next=5,Object(S["deleteData"])("/sponzor/"+a);case 5:r=n.sent,202===r.status?t.sponsors.splice(e,1):alert("Vyskytla se chyba");case 7:case"end":return n.stop()}}),n)})))()},handleNew:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return event.preventDefault(),t.next=3,Object(S["putData"])("/sponzor",JSON.stringify(e.newSponsor));case 3:if(n=t.sent,202!==n.status){t.next=14;break}return t.next=7,n.json();case 7:a=t.sent,r=a.id,e.newSponsor._id=r,e.sponsors.push(e.newSponsor),e.newSponsor={},t.next=15;break;case 14:alert("Vyskytla se chyba");case 15:case"end":return t.stop()}}),t)})))()}}},yn=kn,wn=(n("b2b8"),Object(h["a"])(yn,gn,bn,!1,null,"b9c10a82",null)),_n=wn.exports,xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Staff")]),n("div",[n("router-link",{staticClass:"staff add",attrs:{to:"/staff/pridat"}},[n("a",{staticClass:"fas fa-plus"})]),e._l(e.staff,(function(t){return n("router-link",{key:t._id,staticClass:"staff",style:"background: url("+t.img+"), white",attrs:{to:"/staff/"+t.name}},[n("span",[n("a",[e._v(e._s(t.name+" ("+t.role+")"))])])])}))],2)])},On=[],jn={data:function(){return{staff:[]}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Progress.start(),t.next=3,Object(S["getData"])("/staff");case 3:e.staff=t.sent,e.$Progress.finish();case 5:case"end":return t.stop()}}),t)})))()}},$n=jn,Pn=(n("7d7c"),Object(h["a"])($n,xn,On,!1,null,"314b62a9",null)),Cn=Pn.exports,Rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("div",{staticClass:"mugshot",on:{click:e.handleClick}},[n("img",{attrs:{src:e.staff.img,alt:e.staff.name}}),n("span",{style:e.newStaff||void 0==this.staff.img?"color: gray; opacity: 1; visibility: visible":""},[n("b",[e._v("Změnit portrét")])])]),n("form",{on:{submit:e.handleSubmit}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.name,expression:"staff.name"}],attrs:{type:"text",placeholder:"Jméno",required:""},domProps:{value:e.staff.name},on:{input:function(t){t.target.composing||e.$set(e.staff,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.role,expression:"staff.role"}],attrs:{type:"text",placeholder:"Role",required:""},domProps:{value:e.staff.role},on:{input:function(t){t.target.composing||e.$set(e.staff,"role",t.target.value)}}}),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.category,expression:"staff.category"}],attrs:{type:"radio",name:"category",value:"Management",id:"Management",required:""},domProps:{checked:e._q(e.staff.category,"Management")},on:{change:function(t){return e.$set(e.staff,"category","Management")}}}),n("label",{attrs:{for:"Management"}},[e._v("Management")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.category,expression:"staff.category"}],attrs:{type:"radio",name:"category",value:"Creators",id:"Creators"},domProps:{checked:e._q(e.staff.category,"Creators")},on:{change:function(t){return e.$set(e.staff,"category","Creators")}}}),n("label",{attrs:{for:"Creators"}},[e._v("Creators")]),n("h2",[e._v("About")]),n("table",[e._l(e.staff.about,(function(t,a){return n("tr",{key:a},[n("td",[e._v(e._s(a))]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.about[a],expression:"staff.about[q]"}],attrs:{type:"text"},domProps:{value:e.staff.about[a]},on:{input:function(t){t.target.composing||e.$set(e.staff.about,a,t.target.value)}}})])])})),n("tr",[n("td",[e._v("Připojený účet")]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.staff.linkedUser,expression:"staff.linkedUser"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.staff,"linkedUser",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}}),e._l(e.users,(function(t){return n("option",{key:t._id,domProps:{value:t._id}},[e._v(" "+e._s(t.name)+" ")])}))],2)])])],2),n("h2",[e._v("Odkazy")]),n("table",[n("tbody",[n("tr",[e._m(0),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.links.facebook,expression:"staff.links.facebook"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.staff.links.facebook},on:{input:function(t){t.target.composing||e.$set(e.staff.links,"facebook",t.target.value)}}})])]),n("tr",[e._m(1),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.links.instagram,expression:"staff.links.instagram"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.staff.links.instagram},on:{input:function(t){t.target.composing||e.$set(e.staff.links,"instagram",t.target.value)}}})])]),n("tr",[e._m(2),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.links.discord,expression:"staff.links.discord"}],attrs:{type:"text",placeholder:"Nick#0000"},domProps:{value:e.staff.links.discord},on:{input:function(t){t.target.composing||e.$set(e.staff.links,"discord",t.target.value)}}})])]),n("tr",[e._m(3),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.links.twitch,expression:"staff.links.twitch"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.staff.links.twitch},on:{input:function(t){t.target.composing||e.$set(e.staff.links,"twitch",t.target.value)}}})])]),n("tr",[e._m(4),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.links.youtube,expression:"staff.links.youtube"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.staff.links.youtube},on:{input:function(t){t.target.composing||e.$set(e.staff.links,"youtube",t.target.value)}}})])]),n("tr",[e._m(5),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.links.twitter,expression:"staff.links.twitter"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.staff.links.twitter},on:{input:function(t){t.target.composing||e.$set(e.staff.links,"twitter",t.target.value)}}})])]),n("tr",[e._m(6),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.links.web,expression:"staff.links.web"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.staff.links.web},on:{input:function(t){t.target.composing||e.$set(e.staff.links,"web",t.target.value)}}})])]),n("tr",[e._m(7),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.links.linkedin,expression:"staff.links.linkedin"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.staff.links.linkedin},on:{input:function(t){t.target.composing||e.$set(e.staff.links,"linkedin",t.target.value)}}})])]),n("tr",[e._m(8),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staff.links.github,expression:"staff.links.github"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:e.staff.links.github},on:{input:function(t){t.target.composing||e.$set(e.staff.links,"github",t.target.value)}}})])])])]),e.newStaff?n("div",[n("button",{attrs:{type:"submit"}},[e._v("Vytvořit")])]):n("div",[n("button",{attrs:{type:"submit"}},[e._v("Uložit")]),n("button",{attrs:{type:"button"},on:{click:e.handleDelete}},[e._v("Odstranit")])])]),n("FileUpload",{ref:"FileUpload",model:{value:e.staff.img,callback:function(t){e.$set(e.staff,"img",t)},expression:"staff.img"}})],1)},Nn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-facebook"}),e._v(" Facebook")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-instagram"}),e._v(" Instagram")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-discord"}),e._v(" Discord")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-twitch"}),e._v(" Twitch")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-youtube"}),e._v(" Youtube")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-twitter"}),e._v(" Twitter")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fas fa-link"}),e._v(" Web")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-linkedin"}),e._v(" LinkedIn")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("i",{staticClass:"fab fa-github"}),e._v(" Github")])}],Dn={props:{newStaff:{type:Boolean}},components:{FileUpload:ye},data:function(){return{staff:{links:{}},users:[]}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newStaff){t.next=6;break}return e.$Progress.start(),t.next=4,Object(S["getData"])("/staff/"+e.$route.params.name);case 4:e.staff=t.sent,e.$Progress.finish();case 6:return t.next=8,Object(S["getData"])("/uzivatele");case 8:if(e.users=t.sent,n={Nick:"","Věk":"","Co rád dělám?":"","Na čem hraju?":"","Proč se věnuji esportu?":"","Co je mým úkolem v týmu?":""},e.staff.about)for(a=0,r=Object.keys(e.staff.about);a<r.length;a++)s=r[a],n[s]=e.staff.about[s];e.staff.about=n;case 12:case"end":return t.stop()}}),t)})))()},methods:{handleClick:function(){this.$refs.FileUpload.open()},clean:function(e){for(var t in e)0===e[t].length&&delete e[t]},handleSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.$Progress.start(),!t.newStaff){n.next=12;break}return r=Object.assign({},t.staff),t.clean(r.about),t.clean(r.links),""===r.linkedUser&&delete r.linkedUser,n.next=9,Object(S["putData"])("/staff",JSON.stringify(r));case 9:a=n.sent,n.next=20;break;case 12:return s=Object.assign({},t.staff),delete s._id,t.clean(s.about),t.clean(s.links),""===s.linkedUser&&delete s.linkedUser,n.next=19,Object(S["postData"])("/staff/"+t.staff._id,JSON.stringify(s));case 19:a=n.sent;case 20:202==a.status?(t.$Progress.finish(),t.$router.push("/staff")):(t.$Progress.fail(),alert("Vyskytla se chyba"));case 21:case"end":return n.stop()}}),n)})))()},handleDelete:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm('Opravdu chcete staff "'.concat(e.staff.name,'" odstranit?'))){t.next=6;break}return e.$Progress.start(),t.next=4,Object(S["deleteData"])("/staff/"+e.staff._id);case 4:n=t.sent,202==n.status?(e.$Progress.finish(),e.$router.push("/staff")):(e.$Progress.fail(),alert("Vyskytla se chyba"));case 6:case"end":return t.stop()}}),t)})))()}}},Sn=Dn,zn=(n("d91c"),Object(h["a"])(Sn,Rn,Nn,!1,null,"5b8392da",null)),En=zn.exports,Fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Odkazy")]),n("div",{staticClass:"links"},[e._l(e.links,(function(t,a){return n("form",{key:t._id,staticClass:"link",on:{submit:function(n){return e.handleEdit(t)}}},[n("div",{staticClass:"icon",on:{click:function(n){return e.openRef(t._id)}}},[t.ico?n("img",{attrs:{src:t.ico,alt:t.name}}):e._e(),n("span",{style:void 0==t.ico?"color: gray; opacity: 1; visibility: visible":""},[n("b",[e._v("Změnit ikonu")])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"link.name"}],attrs:{type:"text",placeholder:"Název",required:""},domProps:{value:t.name},on:{input:function(n){n.target.composing||e.$set(t,"name",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.sub,expression:"link.sub"}],attrs:{type:"text",placeholder:"Handle",required:""},domProps:{value:t.sub},on:{input:function(n){n.target.composing||e.$set(t,"sub",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"link.url"}],attrs:{type:"url",placeholder:"https://",required:""},domProps:{value:t.url},on:{input:function(n){n.target.composing||e.$set(t,"url",n.target.value)}}}),n("button",{staticClass:"fas fa-save",attrs:{type:"submit"}}),n("button",{staticClass:"fas fa-trash-alt",attrs:{type:"button"},on:{click:function(t){return e.handleDelete(a)}}}),n("FileUpload",{ref:t._id,refInFor:!0,model:{value:t.ico,callback:function(n){e.$set(t,"ico",n)},expression:"link.ico"}})],1)})),n("form",{staticClass:"link",on:{submit:e.handleNew}},[n("div",{staticClass:"icon",on:{click:function(t){return e.openRef("newLink")}}},[e.newLink.ico?n("img",{attrs:{src:e.newLink.ico,alt:e.newLink.name}}):e._e(),n("span",{style:void 0==e.newLink.ico?"color: gray; opacity: 1; visibility: visible":""},[n("b",[e._v("Změnit ikonu")])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newLink.name,expression:"newLink.name"}],attrs:{type:"text",placeholder:"Název",required:""},domProps:{value:e.newLink.name},on:{input:function(t){t.target.composing||e.$set(e.newLink,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newLink.sub,expression:"newLink.sub"}],attrs:{type:"text",placeholder:"Handle",required:""},domProps:{value:e.newLink.sub},on:{input:function(t){t.target.composing||e.$set(e.newLink,"sub",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newLink.url,expression:"newLink.url"}],attrs:{type:"url",placeholder:"https://",required:""},domProps:{value:e.newLink.url},on:{input:function(t){t.target.composing||e.$set(e.newLink,"url",t.target.value)}}}),n("button",{staticClass:"fas fa-plus",attrs:{type:"submit"}}),n("FileUpload",{ref:"newLink",model:{value:e.newLink.ico,callback:function(t){e.$set(e.newLink,"ico",t)},expression:"newLink.ico"}})],1)],2)])},Tn=[],Un={components:{FileUpload:ye},data:function(){return{links:[],newLink:{}}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(S["getData"])("/links");case 2:e.links=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{openRef:function(e){"newLink"!=e?this.$refs[e][0].open():this.$refs.newLink.open()},handleEdit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return event.preventDefault(),e=Object.assign({},e),a=e._id,delete e._id,n.next=6,Object(S["postData"])("/odkaz/"+a,JSON.stringify(e));case 6:r=n.sent,202===r.status?t.$notify({type:"success",title:'<i class="fas fa-check" />',text:"Úspěšně uloženo"}):alert("Vyskytla se chyba");case 8:case"end":return n.stop()}}),n)})))()},handleNew:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return event.preventDefault(),t.next=3,Object(S["putData"])("/odkaz",JSON.stringify(e.newLink));case 3:if(n=t.sent,202!==n.status){t.next=14;break}return t.next=7,n.json();case 7:a=t.sent,r=a.id,e.newLink._id=r,e.links.push(e.newLink),e.newLink={},t.next=15;break;case 14:alert("Vyskytla se chyba");case 15:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.links[e]._id,!confirm("Opravdu chcete tento odkaz smazat?")){n.next=6;break}return n.next=4,Object(S["deleteData"])("/odkaz/"+a);case 4:r=n.sent,202===r.status?t.links.splice(e,1):alert("Vyskytla se chyba");case 6:case"end":return n.stop()}}),n)})))()}}},qn=Un,Ln=(n("4fab"),Object(h["a"])(qn,Fn,Tn,!1,null,"68ed7b42",null)),Vn=Ln.exports,An=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Jn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("404")])])}],Gn={},Bn=Gn,In=(n("adc0"),Object(h["a"])(Bn,An,Jn,!1,null,"104a1d1d",null)),Mn=In.exports;a["default"].config.productionTip=!1,a["default"].use(i.a,{color:"#A65BDA",failedColor:"red",height:"2px"}),a["default"].use(c.a),a["default"].use(l["a"],{loading:"/loading.svg"}),a["default"].use(r["a"]);var Zn=[{path:"/",component:T},{path:"/traffic",component:W},{path:"/novinky",component:ae},{path:"/novinka/pridat",component:Oe,props:{newArticle:!0}},{path:"/novinka/:id",component:Oe},{path:"/Media/",component:Le},{path:"/oceneni",component:Qe},{path:"/uzivatele",component:at},{path:"/uzivatel/pridat",component:zt,props:{newUser:!0}},{path:"/uzivatel/:name",component:zt},{path:"/uzivatel/:name/heslo",component:wt},{path:"/uzivatel/:name/2FA",component:Pt},{path:"/databaze",component:Lt},{path:"/hraci",component:It},{path:"/hrac/pridat",component:Qt,props:{newPlayer:!0}},{path:"/hrac/:name",component:Qt},{path:"/hry",component:un},{path:"/partneri",component:hn},{path:"/sponzori",component:_n},{path:"/staff",component:Cn},{path:"/staff/pridat",component:En,props:{newStaff:!0}},{path:"/staff/:name",component:En},{path:"/odkazy",component:Vn},{path:"/*",component:Mn}],Hn=new r["a"]({base:"/dashboard/",routes:Zn,mode:"history"});new a["default"]({render:function(e){return e(C)},router:Hn}).$mount("#app")},"5cb5":function(e,t,n){},"5cc4":function(e,t,n){},"69f8":function(e,t,n){"use strict";var a=n("ff82"),r=n.n(a);r.a},"6be7":function(e,t,n){"use strict";var a=n("bca6"),r=n.n(a);r.a},"71f8":function(e,t,n){},"74ad":function(e,t,n){"use strict";var a=n("90a6"),r=n.n(a);r.a},"75b6":function(e,t,n){"use strict";var a=n("0d00"),r=n.n(a);r.a},"76de":function(e,t,n){"use strict";var a=n("dea6"),r=n.n(a);r.a},"7bd7":function(e,t,n){"use strict";var a=n("a285"),r=n.n(a);r.a},"7c12":function(e,t,n){},"7d7c":function(e,t,n){"use strict";var a=n("98a2"),r=n.n(a);r.a},"7e3e":function(e,t,n){},"86b3":function(e,t,n){},"86f1":function(e,t,n){},"8a02":function(e,t,n){"use strict";var a=n("c5a3"),r=n.n(a);r.a},"8d95":function(e,t,n){"use strict";var a=n("244a"),r=n.n(a);r.a},"90a6":function(e,t,n){},"98a2":function(e,t,n){},"9c8b":function(e,t,n){},"9eab":function(e,t,n){"use strict";var a=n("9f0a"),r=n.n(a);r.a},"9ed4":function(e,t,n){"use strict";var a=n("86b3"),r=n.n(a);r.a},"9f0a":function(e,t,n){},a088:function(e,t,n){},a0ce:function(e,t,n){},a285:function(e,t,n){},ac1d:function(e,t,n){"use strict";var a=n("5cb5"),r=n.n(a);r.a},adc0:function(e,t,n){"use strict";var a=n("5cc4"),r=n.n(a);r.a},b0e6:function(e,t,n){},b2b8:function(e,t,n){"use strict";var a=n("7e3e"),r=n.n(a);r.a},b585:function(e,t,n){"use strict";var a=n("0603"),r=n.n(a);r.a},bca6:function(e,t,n){},c00d:function(e,t,n){},c5a3:function(e,t,n){},c7a8:function(e,t,n){"use strict";var a=n("9c8b"),r=n.n(a);r.a},cf25:function(e,t,n){"use strict";var a=n("fea6"),r=n.n(a);r.a},cfa0:function(e,t,n){},d284:function(e,t,n){"use strict";var a=n("3638"),r=n.n(a);r.a},d557:function(e,t,n){},d91c:function(e,t,n){"use strict";var a=n("7c12"),r=n.n(a);r.a},dea6:function(e,t,n){},eaf3:function(e,t,n){"use strict";var a=n("25bb"),r=n.n(a);r.a},ebcb:function(e,t,n){"use strict";var a=n("a088"),r=n.n(a);r.a},ef5d:function(e,t,n){"use strict";var a=n("11be"),r=n.n(a);r.a},fea6:function(e,t,n){},ff82:function(e,t,n){}});
//# sourceMappingURL=app.f0f691ea.js.map